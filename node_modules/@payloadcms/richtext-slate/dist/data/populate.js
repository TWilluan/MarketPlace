"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "populate", {
    enumerable: true,
    get: function() {
        return populate;
    }
});
const populate = async ({ id, collection, currentDepth, data, depth, draft, key, overrideAccess, req, showHiddenFields })=>{
    const dataRef = data;
    const doc = await req.payloadDataLoader.load(JSON.stringify([
        req.transactionID,
        collection.config.slug,
        id,
        depth,
        currentDepth + 1,
        req.locale,
        req.fallbackLocale,
        typeof overrideAccess === 'undefined' ? false : overrideAccess,
        showHiddenFields,
        draft
    ]));
    if (doc) {
        dataRef[key] = doc;
    } else {
        dataRef[key] = null;
    }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9kYXRhL3BvcHVsYXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgUGF5bG9hZFJlcXVlc3QgfSBmcm9tICdwYXlsb2FkL3R5cGVzJ1xuaW1wb3J0IHR5cGUgeyBDb2xsZWN0aW9uLCBGaWVsZCwgUmljaFRleHRGaWVsZCB9IGZyb20gJ3BheWxvYWQvdHlwZXMnXG5cbmltcG9ydCB0eXBlIHsgQWRhcHRlckFyZ3VtZW50cyB9IGZyb20gJy4uL3R5cGVzJ1xuXG50eXBlIEFyZ3VtZW50cyA9IHtcbiAgY3VycmVudERlcHRoPzogbnVtYmVyXG4gIGRhdGE6IHVua25vd25cbiAgZGVwdGg6IG51bWJlclxuICBkcmFmdDogYm9vbGVhblxuICBmaWVsZDogUmljaFRleHRGaWVsZDxhbnlbXSwgQWRhcHRlckFyZ3VtZW50cywgQWRhcHRlckFyZ3VtZW50cz5cbiAga2V5OiBudW1iZXIgfCBzdHJpbmdcbiAgb3ZlcnJpZGVBY2Nlc3M/OiBib29sZWFuXG4gIHJlcTogUGF5bG9hZFJlcXVlc3RcbiAgc2hvd0hpZGRlbkZpZWxkczogYm9vbGVhblxufVxuXG5leHBvcnQgY29uc3QgcG9wdWxhdGUgPSBhc3luYyAoe1xuICBpZCxcbiAgY29sbGVjdGlvbixcbiAgY3VycmVudERlcHRoLFxuICBkYXRhLFxuICBkZXB0aCxcbiAgZHJhZnQsXG4gIGtleSxcbiAgb3ZlcnJpZGVBY2Nlc3MsXG4gIHJlcSxcbiAgc2hvd0hpZGRlbkZpZWxkcyxcbn06IE9taXQ8QXJndW1lbnRzLCAnZmllbGQnPiAmIHtcbiAgY29sbGVjdGlvbjogQ29sbGVjdGlvblxuICBmaWVsZDogRmllbGRcbiAgaWQ6IHN0cmluZ1xufSk6IFByb21pc2U8dm9pZD4gPT4ge1xuICBjb25zdCBkYXRhUmVmID0gZGF0YSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPlxuXG4gIGNvbnN0IGRvYyA9IGF3YWl0IHJlcS5wYXlsb2FkRGF0YUxvYWRlci5sb2FkKFxuICAgIEpTT04uc3RyaW5naWZ5KFtcbiAgICAgIHJlcS50cmFuc2FjdGlvbklELFxuICAgICAgY29sbGVjdGlvbi5jb25maWcuc2x1ZyxcbiAgICAgIGlkLFxuICAgICAgZGVwdGgsXG4gICAgICBjdXJyZW50RGVwdGggKyAxLFxuICAgICAgcmVxLmxvY2FsZSxcbiAgICAgIHJlcS5mYWxsYmFja0xvY2FsZSxcbiAgICAgIHR5cGVvZiBvdmVycmlkZUFjY2VzcyA9PT0gJ3VuZGVmaW5lZCcgPyBmYWxzZSA6IG92ZXJyaWRlQWNjZXNzLFxuICAgICAgc2hvd0hpZGRlbkZpZWxkcyxcbiAgICAgIGRyYWZ0LFxuICAgIF0pLFxuICApXG5cbiAgaWYgKGRvYykge1xuICAgIGRhdGFSZWZba2V5XSA9IGRvY1xuICB9IGVsc2Uge1xuICAgIGRhdGFSZWZba2V5XSA9IG51bGxcbiAgfVxufVxuIl0sIm5hbWVzIjpbInBvcHVsYXRlIiwiaWQiLCJjb2xsZWN0aW9uIiwiY3VycmVudERlcHRoIiwiZGF0YSIsImRlcHRoIiwiZHJhZnQiLCJrZXkiLCJvdmVycmlkZUFjY2VzcyIsInJlcSIsInNob3dIaWRkZW5GaWVsZHMiLCJkYXRhUmVmIiwiZG9jIiwicGF5bG9hZERhdGFMb2FkZXIiLCJsb2FkIiwiSlNPTiIsInN0cmluZ2lmeSIsInRyYW5zYWN0aW9uSUQiLCJjb25maWciLCJzbHVnIiwibG9jYWxlIiwiZmFsbGJhY2tMb2NhbGUiXSwibWFwcGluZ3MiOiI7Ozs7K0JBaUJhQTs7O2VBQUFBOzs7QUFBTixNQUFNQSxXQUFXLE9BQU8sRUFDN0JDLEVBQUUsRUFDRkMsVUFBVSxFQUNWQyxZQUFZLEVBQ1pDLElBQUksRUFDSkMsS0FBSyxFQUNMQyxLQUFLLEVBQ0xDLEdBQUcsRUFDSEMsY0FBYyxFQUNkQyxHQUFHLEVBQ0hDLGdCQUFnQixFQUtqQjtJQUNDLE1BQU1DLFVBQVVQO0lBRWhCLE1BQU1RLE1BQU0sTUFBTUgsSUFBSUksaUJBQWlCLENBQUNDLElBQUksQ0FDMUNDLEtBQUtDLFNBQVMsQ0FBQztRQUNiUCxJQUFJUSxhQUFhO1FBQ2pCZixXQUFXZ0IsTUFBTSxDQUFDQyxJQUFJO1FBQ3RCbEI7UUFDQUk7UUFDQUYsZUFBZTtRQUNmTSxJQUFJVyxNQUFNO1FBQ1ZYLElBQUlZLGNBQWM7UUFDbEIsT0FBT2IsbUJBQW1CLGNBQWMsUUFBUUE7UUFDaERFO1FBQ0FKO0tBQ0Q7SUFHSCxJQUFJTSxLQUFLO1FBQ1BELE9BQU8sQ0FBQ0osSUFBSSxHQUFHSztJQUNqQixPQUFPO1FBQ0xELE9BQU8sQ0FBQ0osSUFBSSxHQUFHO0lBQ2pCO0FBQ0YifQ==